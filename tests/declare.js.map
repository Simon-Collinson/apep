{"version":3,"sources":["declare.js"],"names":[],"mappings":";;AAAA,OAAO,CAAC,gBAAgB,CAAC,CAAC;;AAE1B,IAAM,GAAG,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AAChC,IAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAEjC,QAAQ,CAAC,SAAS,EAAE,YAAM;;AAE1B,MAAE,CAAC,gCAAgC,EAAE,YAAM;AACvC,YAAM,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC;mBAAM,CAAC;SAAA,CAAC,CAAC;AAChC,YAAM,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;;AAEzB,YAAM,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AACvB,YAAM,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACxB,cAAM,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;AAChC,cAAM,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KACnC,CAAC,CAAC;;AAEH,MAAE,CAAC,gCAAgC,EAAE,YAAM;AACvC,YAAM,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,UAAC,IAAI;mBAC5B,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,UAAC,CAAC;uBAAK,CAAC,GAAG,CAAC;aAAA,CAAC,CAAC;SAAA,CAAC,CAAC;;AAEtD,YAAM,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAC3B,cAAM,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,CAAC;AACtC,cAAM,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,CAAC;KACzC,CAAC,CAAC;CAIF,CAAC,CAAC","file":"declare.js","sourcesContent":["require(\"babel-polyfill\");\n\nconst gen = require('../index');\nconst assert = require('assert');\n\ndescribe('declare', () => {\n\nit('Forward reference resolve late', () => {\n    const ms = gen.declare(() => m);\n    const m = gen.str('abc');\n    \n    const p = gen.exec(ms);\n    const n = Array.from(p);\n    assert.strictEqual(1, n.length);\n    assert.strictEqual('abc', n[0]);\n});\n\nit('Self reference resolve to self', () => {\n    const manyAs = gen.declare((self) => \n        gen.seq(gen.lit(1), gen.map(self, (x) => x + 1)));\n    \n    const p = gen.exec(manyAs);\n    assert.strictEqual(1, p.next().value);\n    assert.strictEqual(2, p.next().value);\n});\n\n\n\n});"],"sourceRoot":"/source/"}